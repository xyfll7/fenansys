(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00fd1a59"],{"0d03":function(e,r,t){var n=t("6eeb"),a=Date.prototype,o="Invalid Date",s="toString",l=a[s],i=a.getTime;new Date(NaN)+""!=o&&n(a,s,(function(){var e=i.call(this);return e===e?l.call(this):o}))},"1b3d":function(e,r,t){},"21a2":function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"法官姓名",prop:"name"}},[t("el-input",{attrs:{disabled:e.success},on:{focus:e.clear},model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"法官职务",prop:"position"}},[t("el-input",{attrs:{disabled:e.success},model:{value:e.ruleForm.position,callback:function(r){e.$set(e.ruleForm,"position",r)},expression:"ruleForm.position"}})],1),t("el-form-item",{attrs:{label:"联系电话",prop:"tel"}},[t("el-input",{attrs:{disabled:e.success},model:{value:e.ruleForm.tel,callback:function(r){e.$set(e.ruleForm,"tel",e._n(r))},expression:"ruleForm.tel"}})],1),t("el-form-item",{attrs:{label:"办公室",prop:"office"}},[t("el-input",{attrs:{disabled:e.success},model:{value:e.ruleForm.office,callback:function(r){e.$set(e.ruleForm,"office",r)},expression:"ruleForm.office"}})],1),t("el-form-item",{attrs:{label:"分案比例",prop:"proportion"}},[t("div",{staticStyle:{display:"flex"}},[t("el-input-number",{attrs:{disabled:e.success,min:1,max:10},model:{value:e.ruleForm.proportion,callback:function(r){e.$set(e.ruleForm,"proportion",e._n(r))},expression:"ruleForm.proportion"}})],1)]),e._l(e.ruleForm.teams,(function(r,n){return t("div",{key:n,staticStyle:{display:"flex"}},[t("el-form-item",{attrs:{label:"办案团队["+(n+1)+"]",prop:"team"+n}},[t("el-input",{attrs:{placeholder:"初始办案数量",disabled:e.success},model:{value:r.numberOfCasesHandled[0],callback:function(t){e.$set(r.numberOfCasesHandled,0,e._n(t))},expression:"team.numberOfCasesHandled[0]"}},[t("el-select",{attrs:{slot:"prepend",placeholder:"请选择办案团队",disabled:e.success},on:{"visible-change":e.autoRemoveSelectedTeam},slot:"prepend",model:{value:r.name,callback:function(t){e.$set(r,"name",t)},expression:"team.name"}},e._l(e.storeTeams,(function(e){return t("el-option",{key:e._id,attrs:{label:e.name,value:e.name}})})),1)],1)],1),t("i",{staticStyle:{"margin-left":"10px"}},[0===n?t("el-button",{attrs:{disabled:e.success},on:{click:function(r){return r.preventDefault(),e.addTeam(r)}}},[e._v("添加")]):e._e(),0!==n?t("el-button",{attrs:{disabled:e.success},on:{click:function(r){return r.preventDefault(),e.removeTeam(n)}}},[e._v("删除!")]):e._e()],1)],1)}))],2),t("div",{staticClass:"end"},[e.success?t("el-button",{attrs:{type:"success"}},[e._v("✨法官添加成功✨")]):e._e(),e.success?t("el-button",{attrs:{type:"success",plain:""},on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("继续添加")]):e._e(),t("el-button",{attrs:{plain:""}},[e._v("返回法官信息列表")]),e.success?e._e():t("el-button",{attrs:{type:"warning",plain:""},on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置表单")]),e.success?e._e():t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("立即提交")])],1)],1)},a=[],o=(t("a4d3"),t("4de4"),t("4160"),t("a434"),t("0d03"),t("b0c0"),t("e439"),t("dbb4"),t("b64b"),t("d3b7"),t("e25e"),t("25f0"),t("159b"),t("96cf"),t("89ba")),s=t("2fa7"),l=t("2f62"),i=t("e5f0"),u=t("6e15"),c=t.n(u),m=t("d8ad");function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(t,!0).forEach((function(r){Object(s["a"])(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var p={name:"Add",data:function(){var e=this,r=function(r,t,n){console.log(!e.nameError),e.nameError&&n(new Error(e.nameError)),t||n(new Error("法官姓名必须填写")),(t.length<2||t.length>8)&&n(new Error("法官姓名长度至少2个字符，最大8个字符")),n()},t=function(r,t,n){var a=t?t.toString():0;11!==a.length?n(new Error("电话号码长度有误")):(""===e.ruleForm.tel&&e.$refs.ruleForm.validateField("checkPass"),n())},n=function(r,t,n){var a=parseInt(r.field.charAt(r.field.length-1)),o=!0,s="",l=e.ruleForm.teams[a].numberOfCasesHandled[0];""===e.ruleForm.teams[a].name&&(s="团队不能为空"),("number"!==typeof l||isNaN(l))&&(s&&(s+="    "),s+=" 初始办案数量必须填写且必须为数字值"),s&&(n(new Error(s)),o=!1),o&&n()};return{success:!1,nameError:"",storeTeams:[],ruleForm:{avatar:i["b"].avatarUrl||"99287",name:"闰土",position:"渔民",tel:19978663462,office:"渔村",proportion:1,teams:[c()(i["c"])]},rules:{name:[{required:!0,validator:r,trigger:"blur"}],position:[{required:!0,message:"请输入法官职务",trigger:"blur"},{min:2,max:8,message:"长度在 2 到 8 个字符",trigger:"blur"}],tel:[{required:!0,validator:t,trigger:"blur"}],office:[{required:!0,message:"请输入办公室",trigger:"blur"}],proportion:[{required:!0,message:"请输入分案比例"},{type:"number",message:"分案比例必须位数字"}],team0:[{required:!0,validator:n}]}}},computed:d({},Object(l["c"])(["teams"])),watch:{"ruleForm.teams":{handler:function(e){var r=this;e.forEach((function(e,t){var n=r.storeTeams.filter((function(r){return e.name===r.name}));n[0]&&(e._id=n[0]._id)}))},deep:!0}},methods:d({},Object(l["b"])(["addJudge"]),{addTeam:function(){var e=this.ruleForm.teams.length;e<4&&(this.ruleForm.teams.push(c()(i["c"])),this.rules["team".concat(e)]=this.rules.team0)},removeTeam:function(e){this.ruleForm.teams.length>1&&this.ruleForm.teams.splice(e,1)},autoRemoveSelectedTeam:function(){var e=this;this.storeTeams=this.teams.filter((function(r){var t=!0;return e.ruleForm.teams.forEach((function(e){e.name===r.name&&(t=!1)})),t}))},submitForm:function(e){var r=this;this.nameError="",this.ruleForm.avatar=i["b"].avatarUrl,m["b"].$emit(m["a"].VALIDATE),this.$refs[e].validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n||!r.ruleForm.avatar){t.next=14;break}return t.prev=1,t.next=4,r["addJudge"](r.ruleForm);case 4:r.success=!0,m["b"].$emit(m["a"].SUCCESS),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),r.nameError=t.t0.message,r.$refs[e].validate((function(){}));case 12:t.next=16;break;case 14:return console.log("error submit!!"),t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())},resetForm:function(e){m["b"].$emit(m["a"].RESETFORM),this.success=!1,this.ruleForm.teams=[c()(i["c"])],this.ruleForm.avatar="",this.$refs[e].resetFields()},clear:function(){this.nameError=""}}),created:function(){this.storeTeams=c()(this.teams),console.log("SSSSSSSSS")}},b=p,v=(t("4160f"),t("2877")),g=Object(v["a"])(b,n,a,!1,null,"329bfb80",null);r["default"]=g.exports},"25f0":function(e,r,t){"use strict";var n=t("6eeb"),a=t("825a"),o=t("d039"),s=t("ad6d"),l="toString",i=RegExp.prototype,u=i[l],c=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),m=u.name!=l;(c||m)&&n(RegExp.prototype,l,(function(){var e=a(this),r=String(e.source),t=e.flags,n=String(void 0===t&&e instanceof RegExp&&!("flags"in i)?s.call(e):t);return"/"+r+"/"+n}),{unsafe:!0})},"4160f":function(e,r,t){"use strict";var n=t("1b3d"),a=t.n(n);a.a},"6e15":function(e,r,t){(function(r,t,n){e.exports=n()})(0,0,(function(){return function(r){if(/number|string|boolean/.test(typeof r))return r;if(r instanceof Date)return new Date(r.getTime());var t=r instanceof Array?[]:{};return n(r,t),t;function n(r,t){for(var a in r){var o=r[a];if(o instanceof Date){var s=new Date(o.getTime());e(t,a,s)}else if(o instanceof Function){s=o;e(t,a,s)}else if(o instanceof Array){s=[];var l=e(t,a,s);n(o,l)}else if(o instanceof Object){s={},l=e(t,a,s);n(o,l)}else{s=o;e(t,a,s)}}}};function e(e,r,t){return e instanceof Array?(e.push(t),e[e.length-1]):e instanceof Object?(e[r]=t,e[r]):void 0}}))},d8ad:function(e,r,t){"use strict";t.d(r,"b",(function(){return a})),t.d(r,"a",(function(){return o}));var n=t("2b0e"),a=new n["default"],o={AVATAR:"AVATAR",VALIDATE:"VALIDATE",RESETFORM:"RESETFORM",SUCCESS:"SUCCESS"}},e25e:function(e,r,t){var n=t("23e7"),a=t("e583");n({global:!0,forced:parseInt!=a},{parseInt:a})},e583:function(e,r,t){var n=t("da84"),a=t("58a8").trim,o=t("5899"),s=n.parseInt,l=/^[+-]?0[Xx]/,i=8!==s(o+"08")||22!==s(o+"0x16");e.exports=i?function(e,r){var t=a(String(e));return s(t,r>>>0||(l.test(t)?16:10))}:s},e5f0:function(e,r,t){"use strict";t.d(r,"b",(function(){return a})),t.d(r,"a",(function(){return s})),t.d(r,"c",(function(){return l}));var n=t("2b0e"),a=n["default"].observable({avatarUrl:""});function o(e){a.avatarUrl=e}var s={setAvatar:o},l={_id:"",name:"",numberOfCasesHandled:[null,null,null,null,null,null,null,null,null,null,null,null,null]}}}]);
//# sourceMappingURL=chunk-00fd1a59.5a6df389.js.map